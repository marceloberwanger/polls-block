(()=>{"use strict";var l,o={983:()=>{const l=window.wp.blocks,o=window.wp.i18n,e=window.wp.element,s=window.wp.blockEditor,t=window.wp.components,n=window.wp.primitives,i=window.ReactJSXRuntime,r=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})}),a=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),c=window.React,p=JSON.parse('{"UU":"buntywp/polls-block"}');(0,l.registerBlockType)(p.UU,{edit:function({attributes:l,setAttributes:n,clientId:p}){const{question:d,options:b,blockId:w,isAuditable:h,isPollOpen:u,showResultsInNewPage:k}=l;(0,e.useEffect)((()=>{w||n({blockId:p})}),[w,p,n]);const g=(0,s.useBlockProps)({"data-wp-interactive":"buntywp-polls","data-wp-watch":"callbacks.logIsPollOpen"}),v=()=>{n({options:[...b,{option:"",votes:0}]})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(t.PanelBody,{title:(0,o.__)("Poll Settings","polls-block"),children:[(0,i.jsx)(t.ToggleControl,{label:(0,o.__)("Is auditable","polls-block"),checked:h,onChange:l=>n({isAuditable:l}),help:h?(0,o.__)("Votes will be stored with IP address and user agent information.","polls-block"):(0,o.__)("Votes will be stored without identifying information for better performance.","polls-block")}),(0,i.jsx)(t.ToggleControl,{label:(0,o.__)("Is poll open for voting","polls-block"),checked:u,onChange:l=>n({isPollOpen:l}),help:u?(0,o.__)("Poll is currently open for voting.","polls-block"):(0,o.__)("Poll is currently closed.","polls-block")}),(0,i.jsx)(t.ToggleControl,{label:(0,o.__)("Show results in new page","polls-block"),checked:k,onChange:l=>n({showResultsInNewPage:l}),help:k?(0,o.__)("Results will be reload the same page.","polls-block"):(0,o.__)("Results will be displayed inline.","polls-block")})]})}),(0,c.createElement)("div",{...g,key:w},(0,i.jsxs)("div",{className:"poll-block-editor",children:[(0,i.jsx)("div",{className:"poll-question",children:(0,i.jsx)(s.RichText,{tagName:"h3",placeholder:(0,o.__)("Ask a question","polls-block"),value:d,onChange:l=>n({question:l})})}),b.map(((l,e)=>(0,i.jsxs)("div",{className:"poll-option",children:[(0,i.jsx)(t.TextControl,{placeholder:(0,o.__)("Choice ","polls-block")+(e+1),value:l.option,onChange:l=>((l,o)=>{const e=[...b];e[l]={...e[l],option:o},n({options:e})})(e,l)}),(0,i.jsx)(t.Button,{icon:r,isSmall:!0,label:(0,o.__)("Remove option","polls-block"),onClick:()=>(l=>{const o=[...b];o.splice(l,1),n({options:o})})(e),className:"poll-remove-button",disabled:b.length<=2}),e===b.length-1&&(0,i.jsx)(t.Button,{icon:a,onClick:v,className:"poll-add-button",label:(0,o.__)("Add option","polls-block")})]},e)))]}))]})},save:function(){return null}})}},e={};function s(l){var t=e[l];if(void 0!==t)return t.exports;var n=e[l]={exports:{}};return o[l](n,n.exports,s),n.exports}s.m=o,l=[],s.O=(o,e,t,n)=>{if(!e){var i=1/0;for(p=0;p<l.length;p++){for(var[e,t,n]=l[p],r=!0,a=0;a<e.length;a++)(!1&n||i>=n)&&Object.keys(s.O).every((l=>s.O[l](e[a])))?e.splice(a--,1):(r=!1,n<i&&(i=n));if(r){l.splice(p--,1);var c=t();void 0!==c&&(o=c)}}return o}n=n||0;for(var p=l.length;p>0&&l[p-1][2]>n;p--)l[p]=l[p-1];l[p]=[e,t,n]},s.o=(l,o)=>Object.prototype.hasOwnProperty.call(l,o),(()=>{var l={78:0,498:0};s.O.j=o=>0===l[o];var o=(o,e)=>{var t,n,[i,r,a]=e,c=0;if(i.some((o=>0!==l[o]))){for(t in r)s.o(r,t)&&(s.m[t]=r[t]);if(a)var p=a(s)}for(o&&o(e);c<i.length;c++)n=i[c],s.o(l,n)&&l[n]&&l[n][0](),l[n]=0;return s.O(p)},e=globalThis.webpackChunkpolls_block=globalThis.webpackChunkpolls_block||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))})();var t=s.O(void 0,[498],(()=>s(983)));t=s.O(t)})();